(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(e,t,n){e.exports={"cart-items":"Cart_cart-items__3FXIY",total:"Cart_total__1192S",actions:"Cart_actions__3m-Vp","button--alt":"Cart_button--alt__2Zxm4",button:"Cart_button__2ZYrG"}},function(e,t,n){e.exports={form:"Checkout_form__3R1xj",control:"Checkout_control__3Uc8Q",actions:"Checkout_actions__13WvF",submit:"Checkout_submit__1E0OZ",invalid:"Checkout_invalid__11BUf"}},,function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__3aysP",summary:"CartItem_summary__2Jwt7",price:"CartItem_price__RxlpL",amount:"CartItem_amount__3f_1e",actions:"CartItem_actions__20EaK"}},,function(e,t,n){e.exports={button:"HeaderCartBtn_button__xi5rY",icon:"HeaderCartBtn_icon__2_TKt",badge:"HeaderCartBtn_badge__cRBRi",bump:"HeaderCartBtn_bump__24QZW"}},,,,function(e,t,n){e.exports={meal:"MealItem_meal__3QkRN",description:"MealItem_description__3D-9_",price:"MealItem_price__v6oDj"}},function(e,t,n){e.exports={backdrop:"Modal_backdrop__2lXbt",modal:"Modal_modal__qKfIX","slide-down":"Modal_slide-down__3OP6L"}},function(e,t,n){e.exports={header:"Healder_header__19bQx","main-image":"Healder_main-image__2n6i7"}},function(e,t,n){e.exports={form:"MealItemForm_form__29DRu","error-meassage":"MealItemForm_error-meassage__3HYHl"}},,,,function(e,t,n){e.exports={card:"Card_card__1d9TB"}},function(e,t,n){e.exports={meals:"MealsLIst_meals__3ntGX","meals-appear":"MealsLIst_meals-appear__1WlnP"}},function(e,t,n){e.exports={input:"Input_input__3AFXp"}},function(e,t,n){e.exports={summary:"MealsSummary_summary__3dsGT"}},,,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(19),c=n.n(a),r=(n(31),n(2)),i=n(1),s=n.n(i),o=n.p+"static/media/meals.2971f633.jpg",l=n(15),u=n.n(l),d=n(9),j=n.n(d),m=n(0),b=function(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},p=s.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){},clearItems:function(){}}),O=function(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],s=Object(i.useContext)(p),o=s.items,l=s.items.reduce((function(e,t){return e+t.amount}),0),u="".concat(j.a.button," ").concat(a?j.a.bump:"");return Object(i.useEffect)((function(){if(0!==o.length){c(!0);var e=setTimeout((function(){c(!1)}),300);return function(){clearTimeout(e)}}}),[o]),Object(m.jsxs)("button",{className:u,onClick:e.onOpenCart,children:[Object(m.jsx)("span",{className:j.a.icon,children:Object(m.jsx)(b,{})}),Object(m.jsx)("sapn",{children:"Your Cart"}),Object(m.jsx)("sapn",{className:j.a.badge,children:l})]})},x=function(e){return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsxs)("header",{className:u.a.header,children:[Object(m.jsx)("h1",{children:"React Meals"}),Object(m.jsx)(O,{onOpenCart:e.onOpenCart})]}),Object(m.jsx)("div",{className:u.a["main-image"],children:Object(m.jsx)("img",{src:o,alt:"a table of deslicious food"})})]})},h=n(6),f=n(12),_=n.p+"static/media/Bean Eater-1s-109px.c3a936d5.gif",v=n(20),C=n.n(v),g=function(e){return Object(m.jsx)("div",{className:C.a.card,children:e.children})},I=n(21),y=n.n(I),N=n(13),V=n.n(N),A=n(16),k=n.n(A),w=n(3),H=n(22),M=n.n(H),S=function(e){return Object(m.jsxs)("div",{className:M.a.input,children:[Object(m.jsx)("label",{htmlFor:e.id,children:e.label}),Object(m.jsx)("input",Object(w.a)(Object(w.a)({},e.input),{},{id:e.id,onChange:e.onChangeMealAmountInput}))]})},T=function(e){var t=Object(i.useState)(1),n=Object(r.a)(t,2),a=n[0],c=n[1],s=0===+a||+a<1||+a>5;return Object(m.jsxs)("form",{className:k.a.form,onSubmit:function(t){t.preventDefault(),s||e.onAddNewItemToCart(a)},children:[Object(m.jsx)(S,{id:e.id,label:"Amount",input:{type:"number",min:a,max:"5",step:"1",defaultValue:a},onChangeMealAmountInput:function(e){c(e.target.value)}}),Object(m.jsx)("button",{children:"+ add"}),s&&Object(m.jsx)("p",{className:k.a["error-meassage"],children:"Plese enter valid amount (1 - 5)"})]})},F=function(e){var t=Object(i.useContext)(p),n="$".concat(e.price.toFixed(2));return Object(m.jsxs)("li",{className:V.a.meal,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("div",{className:V.a.description,children:e.description}),Object(m.jsx)("div",{className:V.a.price,children:n})]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{children:Object(m.jsx)(T,{id:e.id,onAddNewItemToCart:function(n){t.addItem({id:e.id,name:e.name,amount:+n,price:e.price})}})})})]})},B=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),s=Object(r.a)(c,2),o=s[0],l=s[1],u=Object(i.useState)(),d=Object(r.a)(u,2),j=d[0],b=d[1];Object(i.useEffect)((function(){var e=function(){var e=Object(f.a)(Object(h.a)().mark((function e(){var t,n,c,r;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://food-project-54437-default-rtdb.firebaseio.com/meals.json",{});case 2:return t=e.sent,e.next=5,t.json();case 5:for(r in n=e.sent,c=[],n)c.push({id:r,name:n[r].name,price:n[r].price,description:n[r].description});a(c),setTimeout((function(){l(!1)}),2e3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(){l(!1),b("Something went wrong!")}))}),[]);var p,O=n.map((function(e){return Object(m.jsx)(F,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)}));return o&&!j&&(p=Object(m.jsx)("div",{style:{textAlign:"center"},children:Object(m.jsx)("img",{src:_,alt:"loading snap"})})),!o&&j&&(p=Object(m.jsx)("p",{style:{color:"red",fontWeight:"bold",textAlign:"center"},children:j})),o||j||(p=Object(m.jsx)("ul",{children:O})),Object(m.jsx)("section",{className:y.a.meals,children:Object(m.jsx)(g,{children:p})})},E=n(23),R=n.n(E),D=function(){return Object(m.jsxs)("section",{className:R.a.summary,children:[Object(m.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(m.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(m.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},P=function(){return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(D,{}),Object(m.jsx)(B,{})]})},Y=n(10),W=n.n(Y),L=n(14),X=n.n(L),J=function(e){return Object(m.jsx)("div",{className:X.a.backdrop,onClick:e.onCloseCart})},Q=function(e){return Object(m.jsx)("div",{className:X.a.modal,children:Object(m.jsx)("div",{className:X.a.content,children:e.children})})},Z=function(e){var t=document.getElementById("overlay");return Object(m.jsxs)(i.Fragment,{children:[W.a.createPortal(Object(m.jsx)(J,{onCloseCart:e.onCloseCart}),t),W.a.createPortal(Object(m.jsx)(Q,{children:e.children}),t)]})},z=n(4),G=n.n(z),K=n(7),$=n.n(K),q=function(e){var t="$".concat(e.price.toFixed(2));return Object(m.jsxs)("li",{className:$.a["cart-item"],children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e.name}),Object(m.jsxs)("div",{className:$.a.summary,children:[Object(m.jsx)("span",{className:$.a.price,children:t}),Object(m.jsxs)("span",{className:$.a.amount,children:["x ",e.amount]})]})]}),Object(m.jsxs)("div",{className:$.a.actions,children:[Object(m.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(m.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},U=n(5),ee=n.n(U),te=function(e){return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)("label",{htmlFor:e.input.id,children:e.inputText}),Object(m.jsx)("input",Object(w.a)(Object(w.a)({},e.input),{},{onChange:e.onChange,onBlur:e.onBlur}))]})},ne=function(){var e=Object(i.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!1),s=Object(r.a)(c,2),o=s[0],l=s[1],u=0===n.trim().length;return{value:n,inValidInputValue:u,enteredValueisInValid:o&&u,changeInputHandler:function(e){a(e.target.value)},blurInputHandler:function(){l(!0)},resetValue:function(){a(""),l(!1)}}},ae=function(e){var t=ne(),n=t.value,a=t.inValidInputValue,c=t.enteredValueisInValid,r=t.changeInputHandler,i=t.blurInputHandler,s=t.resetValue,o=ne(),l=o.value,u=o.inValidInputValue,d=o.enteredValueisInValid,j=o.changeInputHandler,b=o.blurInputHandler,p=o.resetValue,O=ne(),x=O.value,h=O.inValidInputValue,f=O.enteredValueisInValid,_=O.changeInputHandler,v=O.blurInputHandler,C=O.resetValue,g=ne(),I=g.value,y=g.inValidInputValue,N=g.enteredValueisInValid,V=g.changeInputHandler,A=g.blurInputHandler,k=g.resetValue,w=!0;a||u||h||y||(w=!1);var H=function(e){return e?"".concat(ee.a.control," ").concat(ee.a.invalid):"".concat(ee.a.control)};return Object(m.jsxs)("form",{className:ee.a.form,onSubmit:function(t){t.preventDefault(),w||(s(),p(),C(),k(),e.onConfirm({name:n,street:l,postalCode:x,city:I}))},children:[Object(m.jsx)("div",{className:H(c),children:Object(m.jsx)(te,{inputText:"Your Name",input:{id:"name",type:"text",value:n},onChange:r,onBlur:i})}),Object(m.jsx)("div",{className:H(d),children:Object(m.jsx)(te,{inputText:"Street",input:{id:"street",type:"text",value:l},onChange:j,onBlur:b})}),Object(m.jsx)("div",{className:H(f),children:Object(m.jsx)(te,{inputText:"Postal Code",input:{id:"postal-code",type:"text",value:x},onChange:_,onBlur:v})}),Object(m.jsx)("div",{className:H(N),children:Object(m.jsx)(te,{inputText:"City",input:{id:"city",type:"text",value:I},onChange:V,onBlur:A})}),Object(m.jsxs)("div",{className:ee.a.actions,children:[Object(m.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}),Object(m.jsx)("button",{type:"submit",disabled:w,className:ee.a.submit,children:"Confirm"})]})]})},ce=function(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],o=Object(i.useState)(null),l=Object(r.a)(o,2),u=l[0],d=l[1],j=Object(i.useState)(!1),b=Object(r.a)(j,2),O=b[0],x=b[1],_=Object(i.useState)(!1),v=Object(r.a)(_,2),C=v[0],g=v[1],I=Object(i.useContext)(p),y="$".concat(I.totalAmount.toFixed(2)),N=I.items.length>0,V=function(e){I.removeItem(e)},A=function(e){I.addItem(Object(w.a)(Object(w.a)({},e),{},{amount:1}))},k=function(){var e=Object(f.a)(Object(h.a)().mark((function e(t){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,fetch("https://food-project-54437-default-rtdb.firebaseio.com/orders.json",{method:"POST",body:JSON.stringify({user:t,orderedItems:I.items,totalAmount:I.totalAmount})});case 4:if(e.sent.ok){e.next=7;break}throw new Error("Some thing went wrong");case 7:x(!1),g(!0),I.clearItems(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),d(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),H=Object(m.jsx)("ul",{className:G.a["cart-items"],children:I.items.map((function(e){return Object(m.jsx)(q,{name:e.name,amount:e.amount,price:e.price,onRemove:V.bind(null,e.id),onAdd:A.bind(null,e)},e.id)}))}),M=Object(m.jsxs)("div",{className:G.a.actions,children:[Object(m.jsx)("button",{className:G.a["button--alt"],onClick:e.onCloseCart,children:"Close"}),N&&Object(m.jsx)("button",{className:G.a.button,onClick:function(){c(!0)},children:"Order"})]}),S=Object(m.jsx)("div",{className:G.a.actions,children:Object(m.jsx)("button",{className:G.a.button,onClick:e.onCloseCart,children:"Close"})}),T=Object(m.jsxs)(s.a.Fragment,{children:[H,Object(m.jsxs)("div",{className:G.a.total,children:[Object(m.jsx)("span",{children:"Total Amoutn"}),Object(m.jsx)("span",{children:y})]}),a&&Object(m.jsx)(ae,{onConfirm:k,onCancel:e.onCloseCart}),!a&&M]}),F=Object(m.jsx)("p",{style:{fontWeight:"bold"},children:"Sending order data...."}),B=Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)("p",{style:{fontWeight:"bold"},children:"Your order has successfully send!"}),S]}),E=Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsxs)("p",{style:{fontWeight:"bold"},children:[u,"... please try again later"]}),S]});return Object(m.jsxs)(Z,{onCloseCart:e.onCloseCart,children:[!u&&!O&&!C&&T,!u&&!O&&O&&F,!u&&!O&&C&&B,u&&Object(m.jsx)("p",{children:E})]})},re=n(17),ie={items:[],totalAmount:0},se=function(e,t){if("ADD_ITEM"===t.type){var n,a=e.totalAmount+t.item.price*t.item.amount,c=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[c];if(r){var i=Object(w.a)(Object(w.a)({},r),{},{amount:r.amount+t.item.amount});(n=Object(re.a)(e.items))[c]=i}else n=e.items.concat(t.item);return{items:n,totalAmount:a}}if("REMOVE_ITEM"===t.type){var s,o=e.items.findIndex((function(e){return e.id===t.id})),l=e.items[o],u=e.totalAmount-l.price;if(1===l.amount)s=e.items.filter((function(e){return e.id!==l.id}));else{var d=Object(w.a)(Object(w.a)({},l),{},{amount:--l.amount});(s=Object(re.a)(e.items))[o]=d}return{items:s,totalAmount:u}}return t.type,ie},oe=function(e){var t=Object(i.useReducer)(se,ie),n=Object(r.a)(t,2),a=n[0],c=n[1],s={items:a.items,totalAmount:a.totalAmount,addItem:function(e){c({type:"ADD_ITEM",item:e})},removeItem:function(e){c({type:"REMOVE_ITEM",id:e})},clearItems:function(){c({type:"CLEAR"})}};return Object(m.jsx)(p.Provider,{value:s,children:e.children})};var le=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(m.jsxs)(oe,{children:[n&&Object(m.jsx)(ce,{onCloseCart:function(){a(!1)}}),Object(m.jsx)(x,{onOpenCart:function(){a(!0)}}),Object(m.jsx)("main",{children:Object(m.jsx)(P,{})})]})};c.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(le,{}))}],[[33,1,2]]]);
//# sourceMappingURL=main.67a6a35a.chunk.js.map